#!/usr/bin/env ruby

# Welcome method
puts '******************************'
puts '**                          **'
puts '**        Hello folks!      **'
puts '**                          **'
puts '******************************'
puts "---Let's play Tic-Tac-Toe.---"

# Input usernames
puts ''
puts "Enter user 'X' name."
user_x = gets.chomp
puts "Welcome #{user_x}! - User 'X'"

puts ''
puts "Enter user 'O' name."
user_o = gets.chomp
puts "Welcome #{user_o}! - User 'O'"

# Readme
puts ''
puts ''
puts 'The game instructions: how to play this game?'
puts "#{user_x} and #{user_o}, to play the game, one shal select the number from table below!"
puts 'Please note you must select only numbers from 0 to 8!'
puts ''
puts '0 1 2'
puts '3 4 5'
puts '6 7 8'

$board = [
  '', '', '',
  '', '', '',
  '', '', ''
]

def print_board
  puts ""
  print $board[0..2]
  puts ""
  print $board[3..5]
  puts ""
  print $board[6..8]
end

print_board()

# Start the game
puts ''
puts ''
puts "#{user_x} - User 'X' select the number."
user_x_step = gets.chomp
puts "Your move is displayed on the board #{user_x_step}"

puts ''
puts "Now, it is other player's turn"

puts ''
puts ''
puts "#{user_o} - User 'O' select the number."
user_o_step = gets.chomp
puts "Your move is displayed on the board #{user_o_step}"

# if user O matches winning combination
puts ''
puts ''
puts "#{user_o} won!"
puts 'Congratulations!'
# if user X matches winning combination
puts ''
puts ''
puts "#{user_x} won!"
puts 'Congratulations!'

# End the game
# Restart?
puts ''
puts '=----------- Do you want to play again? -----------='
puts 'Enter yes or no.'
restart = gets.chomp
if restart == 'yes'
  # Start the game again
elsif restart == 'no'
  puts '====================== The End ======================'
else
  puts "Please enter only 'yes' or 'no', others inputs are invalid!"
end
